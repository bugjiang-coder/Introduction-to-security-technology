# 实验报告

参考资料

https://www.cnblogs.com/zwq194/archive/2011/03/07/1974821.html

RBAC（Role-Based Access Control，基于角色的访问控制），就是用户通过角色与权限进行关联。简单地说，一个用户拥有若干角色，每一个角色拥有若干权限。这样，就构造成“用户-角色-权限”的授权模型。在这种模型中，用户与角色之间，角色与权限之间，一般者是多对多的关系。

![img](%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A_image/2011030716555944.jpg)

# 实验记录部分





```c++

// 利用c++的数据STL库定义上面三个元素 的关系
// 使用一个
class URtable
{
public:
    map<user, role> entry;
    void add(user u, role r);
    void print();
};

void URtable::add(user u, role r)
{
    entry.insert(make_pair(u, r));
}

void URtable::print()
{
    for (auto it = entry.begin(); it != entry.end(); it++);
        // cout << it->first.ID << "\t<--->\t" << it->second.roleID << endl;
}

```





  map<USER \*, ROLE \*> entry;

  // 奇诡的情况，map中不能插入 自己定义的class 但是可以插入class的指针

  // 这个错误好像是我没有重载 比较符号导致的 <

  // 而其 就是没有执行的错误代码 只要存在在文件中（class中）  g++也会给我报错

  //

  entry.insert(make_pair(A, r1));



  for (auto it = entry.begin(); it != entry.end(); it++)

​    cout << it->first->u_ID << "\t<--->\t" << it->second->r_ID << endl;







  下一步认为 在没有ROLE类中 定义域 权限表，每个role中都要包含权限

  用vector   完成



  发现一个惊天大问题，小电脑上的c++编译器有问题！！

  完成



  定义子继承

  完善roleManager的增删改查

基本完成√





  在userManager中定义 互斥表，

  用map







  未完成--

  注意要设置一些权限的互斥关系

  不能同时授予用户有互斥权限的角色

  授予角色的时候要进行互斥检查
